## 08장 제어문

---

제어문은 조건에 따라 코드 블록을 실행(조건문)하거나 반복 실행(반복문)할 때 사용된다. 일반적으로 코드는 위에서 아래 방향으로 순차적으로 실행된다. 제어문을 사용하면 코드의 실행 흐름을 인위적으로 제어할 수가 있는데, 코드의 실행 순서가 변경된다는 것은 단순히 위에서 아래로 순차적으로 진행하는 직관적인 코드의 흐름을 혼란스럽게 할 수 있다.

이러한 점이 코드의 흐름을 이해하기 어렵게 만들고 가독성을 해친다는 장점으로 발현되기도 한다.

### 8.1 블록문

---

블록문

- 0개 이상의 문을 중괄호로 묶은 것으로, 코드 블록 또는 블록이라고 부르기도 한다.
- 자바스크립트는 블록문을 하나의 실행단위로 취급한다.
- 블록문은 단독으로 사용할 수도 있으나, 일반적으로 제어문이나 함수를 정의할 때 사용하는 것이 일반적이다.

💡 '블록문은 언제나 자체 종결문을 갖기 때문에, 블록문 끝에는 세미콜론을 붙이지 않는 것이 일반적이다.'

### 8.2 조건문

---

조건문

- 주어진 조건식의 평가 결과의 따라 코드 블록의 실행을 결정한다. 조건식은 boolean 값으로 평가될 수 있는 표현식이다.
- 자바스크립트는 if...else 문과 switch 문으로 두 가지 조건문을 제공한다.

#### 8.2.1 if...else 문

- if..else문은 주어진 조건식의 평가 결과, 즉 논리적으로 참 또는 거짓에 따라 실행할 코드 블록을 결정합니다.
- 조건식의 평가 결과가 true 일 경우에는 if 문의 코드 블록이 실행되고, false 일 경우 else 문의 코드 블록이 실행된다.

```jsx
if(조건 1){
//조건1 이 참이면 실행되는 코드블록
}else if(조건 2){
//조건2 이 참이면 실행되는 코드블록
}else{
//조건1,2가 모두 거짓이면 실행되는 코드블록
}
```

- else if문과 else 문은 선택적으로 사용할 수 있다.
- if 문과 else문은 2번 이상 사용 불가하지만 else if문은 여러 번 사용할 수 있다.

if 문의 조건식은 boolean 값으로 평가되어야 한다. 만약 조건식이 boolean 이 아닌 값으로 평가되면 자바스크립트 엔진에 의해 암묵적으로 boolean 값으로 강제 변환된다.

#### 8.2.2 switch 문

```jsx
switch (조건){
    case 표현식1;
    ...
    case 표현식2;
    ...
    default;
    ...
}
```

- switch 문은 주어진 표현식을 평가하여 그 값과 일치하는 표현식을 갖는 case 문으로 실행 흐름을 옮긴다.
- 조건식의 평가값이 일치하는 값이 없다면 default 문으로 실행 흐름이 옮겨진다.
- default 문은 생략할 수 있다.
- 이때 주의할 점이 하나 있는데 switch 문은 단순히 실행 흐름을 옮기는 역할을 하는 것 뿐이기에 실행되는 case 문 이후 나타나는 모든 코드가 순차적으로 실행된다. 이를 `fall through` 라고 한다.

```jsx
var month = 11;
var monthName;

switch (month) {
  case 11:
    monthName = "January";
  case 12:
    monthName = "January";
    case default : monthName = 'Invaild';
}
console.log(monthName);
```

위 콘솔로그의 실행 결과는 'Invaild' 가 출력된다. 이는 switch 문의 표현식의 평가 결과와 일치하는 case 문으로 `실행 흐름` 이 이동하여 문을 실행한 것은 맞지만 문을 실행한 후 switch 문을 탈출하지 않고 switch 문이 끝날 때 까지 모든 case 문과 default 문을 실행했기 때문이고 이를 `fall through` 라고 한다.

- break 문을 사용하면 이러한 fall through 를 막을 수 있다.
- break 문은 코드 블록에서 탈출하는 역할을 한다.

if...else 문으로 해결 가능하다면 switch문 보다 if...else 문을 사용하는 것이 더 좋다. 하지만 조건문이 너무 많을 경우에 switch 문을 사용해서 가독성을 가져갈 수 있다.

### 8.3 반복문

---

- 반복문에서는 조건에 따라 블록 실행을 반복할지가 결정된다.

#### 8.3.1 for문

- for문은 조건식이 거짓으로 평가될 때까지 코드 블록을 반복 실행한다. 일반적인 for문의 형태는 다음과 같다.

```jsx
for(변수 선언문 or 할당문; 조건식; 증감문;){
    조건문이 참인 경우 반복 실행될 문;
}
```

- for문에서는 세미콜론으로 구분되는 세가지의 문이 사용된다.
- 이 세가지 문은 각각 생략될 수 있으나 조건식, 증감문을 생략할 경우 무한 루프가 발생할 수 있으니 조심해야한다.

- for 문의 실행 순서는 다음과 같다.

변수 선언 -> 할당문 실행 -> 조건식 평가 -> 조건식 평가값에 따라 분기-> true 라면 블록문 실행, 증감문 실행, for문 반복
false 였다면 for문의 실행을 멈춘다.

- 변수 선언, 할당 문에서 let 으로 선언한 변수는 조건식이 참일 때 실행되는 블록을 스코프로 가진다.
- 당연한 얘기지만 for문은 중첩해 사용할 수 있다.

#### 8.3.2 while 문

- while 문은 주어진 조건식의 평가 결과가 참이면 코드 블록을 계속해서 반복 실행한다. while 문은 조건문의 평가 결과가 거짓이 되면, 코드 블록을 실행하지 않고 종료한다.

- 조건식의 평가 결과가 boolean 값이 아니면 boolean 값으로 강제 변환하여 논리적으로 참, 거짓을 구별한다.

- 조건식의 평가 결과가 언제나 참이면 무한 루프가 된다.

#### 8.3.3 do,while 문

- while문의 경우 조건식을 먼저 평가하고 그 결과에 따라 블록문의 실행 여부를 결정한다.
- do...while 문은 블록문을 먼저 실행하고, 조건식을 평가한다.
- 따라서 조건식이 항상 false 로 평가되더라도 적어도 한 번은 블록문이 실행된다.

```jsx
do {
  console.log("hello world"); // 'hello world'가 한 번 출력됨
} while (false);
```
